<!--Header-->
<app-header></app-header>
<!--Reactivate/Deactivate Form-->
<div class="container">
  <!--Heading-->
  <div class="py-5 text-center">
  <h1>Manage Users</h1>
  </div>
  <!--Search Input-->
  <div class="input-group">
    <div class="input-group-prepend">
      <div class="input-group-text">
        <span class="oi oi-magnifying-glass"></span>
      </div>
    </div>
    <input type="text" class="form-control" placeholder="Search Name or Surname" [(ngModel)]="filter">
  </div>
  <br>

  <!--Users Table-->
  <table class="table table-responsive-sm table-sm table-hover">
    <thead><tr class="bg-light">
      <th (click)="sort('info')" class="btn-link">Full Name</th>
      <th (click)="sort('Email')" class="btn-link">Email</th>
      <th (click)="sort('Type')" class="btn-link">Role</th>
      <th (click)="sort('Active')" class="btn-link">Status</th>
      <th>Security</th>
    </tr></thead>
    <tr *ngFor="let u of users | filter:filter | orderBy: key : reverse | paginate: { itemsPerPage: 10, currentPage: p };">
      <td>{{u.info}}</td>
      <td>{{u.Email}}</td>
      <td>
        <select class="form-control-sm" (change)="userTypeFunc(u.UserID,$event,u.info)">
          <option *ngFor="let ut of userType" [value]="ut.UserTypeID" [selected]="ut.UserTypeID == u.Type">{{ut.UserTypeDesc}}</option>
        </select>
      </td>
      <td>
        <ui-switch color="#007BFF" size="small" [checked]="u.Active==1" (change)="updateUser(u.UserID,$event,u.info)"></ui-switch>
      </td>
      <td>
        <a routerLink="/Reset password/{{u.UserID}}">Reset Password</a>
      </td>
    </tr>
  </table>
  <pagination-controls (pageChange)="p = $event" class="my-pagination"></pagination-controls>
</div>
<!--Footer-->
<app-business-footer></app-business-footer>