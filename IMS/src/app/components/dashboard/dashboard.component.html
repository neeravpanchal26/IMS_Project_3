<!--Header-->
<app-header></app-header>

<div class="container">
<h1>Dashboard</h1>
    <hr/>
    <div *ngIf="userType==1">
        <canvas id="canvas">{{chart}}</canvas>
        <h1>List of users</h1>
        <!--Search Input-->
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text">
                    <span class="oi oi-magnifying-glass"></span>
                </div>
            </div>
            <input type="text" class="form-control" placeholder="Search Name or Surname" [(ngModel)]="filter">
        </div>
        <br>

        <table class="table table-sm table-hover">
            <thead><tr class="bg-light">
                <th (click)="sort('FirstName')" class="btn-link">Username</th>
                <th (click)="sort('count')" class="btn-link"># of Login's</th>
                <th (click)="sort('lastAccess')" class="btn-link">Latest Access</th>
            </tr></thead>
            <tr *ngFor="let u of user | filter:filter | orderBy: key : reverse | paginate: { itemsPerPage: 10, currentPage: p };" (click)="userData(u.UserID,u.FirstName)">
                <td>{{u.FirstName}} {{u.Surname}}</td>
                <td>{{u.count}}</td>
                <td>{{u.lastAccess}}</td>
            </tr>
        </table>
        <pagination-controls (pageChange)="p = $event" class="my-pagination"></pagination-controls>
    </div>
</div>
<!--Footer-->
<app-business-footer></app-business-footer>