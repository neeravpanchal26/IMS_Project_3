<!--Header-->
<app-header></app-header>

<div class="container">
    <div class="row">
        <div class="col-5">
        <h1>Dashboard</h1>
        </div>
        <div class="col-7">
            <div class="dropdown float-right mt-1">
                <button class="btn btn-outline-primary dropdown-toggle" href="#" role="button" id="dropdownMenuLink" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">
                    <span class="oi oi-ellipses"></span> Filter
                </button>

                <div class="dropdown-menu">
                    <button class="dropdown-item" href="" (click)="setDays(7)">7 Days</button>
                    <button class="dropdown-item" href="" (click)="setDays(14)">14 Days</button>
                    <button class="dropdown-item" href="" (click)="setDays(30)">30 Days</button>
                </div>
            </div>
        </div>
    </div>
    <hr/>

    <div *ngIf="userType==1">
        <canvas id="canvas">{{chart}}</canvas>
        <h1>List of users</h1>
        <!--Search Input-->
        <div class="input-group">
            <div class="input-group-prepend">
                <div class="input-group-text">
                    <span class="oi oi-magnifying-glass"></span>
                </div>
            </div>
            <input type="text" class="form-control" placeholder="Search Name or Surname" [(ngModel)]="filter">
        </div>
        <br>

        <table class="table table-sm table-hover">
            <thead><tr class="bg-light">
                <th (click)="sort('FirstName')" class="btn-link">Username</th>
                <th (click)="sort('count')" class="btn-link"># of Login's</th>
                <th (click)="sort('lastAccess')" class="btn-link">Latest Access</th>
            </tr></thead>
            <tr *ngFor="let u of user | filter:filter | orderBy: key : reverse | paginate: { itemsPerPage: 10, currentPage: p };" (click)="userData(u.UserID,u.FirstName)">
                <td>{{u.FirstName}} {{u.Surname}}</td>
                <td>{{u.count}}</td>
                <td>{{u.lastAccess}}</td>
            </tr>
        </table>
        <div class="row" [hidden]="user.length<=10">
            <div class="col-lg-12">
                <pagination-controls (pageChange)="p = $event" class="my-pagination float-right"></pagination-controls>
            </div>
        </div>
    </div>
</div>
<!--Footer-->
<app-business-footer></app-business-footer>